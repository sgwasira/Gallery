<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="A multi-page template generated by MyEclipse Mobile Tools"/>

    <title>Mutil-Page Application</title>

    <link rel="stylesheet" href="./css/jquery.mobile-1.4.3.css"/>
        
    <script type="text/javascript" src="./js/jquery-2.1.1.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="./js/jquery.mobile-1.4.3.js"></script>
    
    <script type="text/javascript" src="cordova.js"></script>
    <style>
body { margin:0px; background:#000; color:#CCC; }
div#pagetop { position:fixed; background: #333; padding:1%; font-size:36px; width:100%; border-bottom:#000 0px solid; }
div#thumbnailbox { float:left; margin-top:82px; width:120px; background:#292929; }
div#thumbnailbox > div { width:100px; height:80px; overflow:hidden; margin:10px; cursor:pointer; }
div#thumbnailbox > div > img { width:100px; }
div#pictureframe { position:fixed; left:140px; top:20%; width:70%; text-align:center; }
div#pictureframe > img { max-width:100%; }
div#albummenubox { position:fixed; left:856px; top:100px; width:200px; background:#CCC; padding:12px; color:#000; border-radius: 10px; }
</style>

<script>
function ajax_json_gallery(folder){
	var thumbnailbox = document.getElementById("thumbnailbox");
	var pictureframe = document.getElementById("pictureframe");
    var hr = new XMLHttpRequest();
    hr.open("POST", "http://www.webcodes.co.za/json_gallery_data.php", true);
    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    hr.onreadystatechange = function() {
	    if(hr.readyState == 4 && hr.status == 200) {
		    var d = JSON.parse(hr.responseText);
			pictureframe.innerHTML = "<img src='"+d.img1.src+"'>";
			thumbnailbox.innerHTML = "";
			for(var o in d){
				if(d[o].src){
				    thumbnailbox.innerHTML += '<div onclick="putinframe(\''+d[o].src+'\')"><img src="'+d[o].src+'"></div>';
				}
			}
	    }
    }
    hr.send("folder="+folder);
    thumbnailbox.innerHTML = "requesting...";
}
function putinframe(src){
	var pictureframe = document.getElementById("pictureframe");
	pictureframe.innerHTML = '<img src="'+src+'">';
}
</script>
</head>

<body>
    <!-- Start of first page: #one -->
    <div data-role="page" id="one">
        <div data-role="header" data-theme="b">
            <h1>Multi-Page Application</h1>
        </div><!-- /header -->

        <div data-role="content" data-theme="b">
              <div id="pagetop">Dynamic JSON Ajax PHP Driven Image Gallery</div>
<div id="thumbnailbox"></div>
<div id="pictureframe"></div>
<div id="albummenubox">
  <h3>My Photo Albums</h3>
  <a href="#" onclick="return false" onmousedown="ajax_json_gallery('gallery1')">Gallery 1</a><br>
  <a href="#" onclick="return false" onmousedown="ajax_json_gallery('gallery2')">Gallery 2</a><br>
  <a href="#" onclick="return false" onmousedown="ajax_json_gallery('gallery3')">Gallery 3</a><br>
</div>
<script>ajax_json_gallery('gallery');</script>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-theme="b">
            <h4>Page Footer</h4>
        </div><!-- /footer -->
    </div><!-- /page one -->

    <!-- Start of second page: #two -->
    <div data-role="page" id="two">

        <div data-role="header" data-theme="b">
            <h1>Two</h1>
        </div><!-- /header -->

        <div data-role="content" data-theme="b">
            <h2>Two</h2>
            <p>I have an id of "two" on my page container. I'm the second
                page container in this multi-page template.</p>
            <p>
                Notice that the theme is different for this page because we've added
                a few
                <code>data-theme</code>
                swatch assigments here to show off how flexible it is. You can add
                any content or widget to these pages, but we're keeping these
                simple.
            </p>
            <p>
                <a href="#one" data-direction="reverse" data-role="button"
                    data-theme="b">Back to page "one"</a>
            </p>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-theme="b">
            <h4>Page Footer</h4>
        </div><!-- /footer -->
    </div><!-- /page two -->

    <!-- Start of third page: #popup -->
    <div data-role="page" id="popup">
        <div data-role="header" data-theme="b">
            <h1>Dialog</h1>
        </div><!-- /header -->

        <div data-role="content" data-theme="b">
            <h2>Popup</h2>
            <p>
                I have an id of "popup" on my page container and only look like a
                dialog because the link to me had a
                <code>data-rel="dialog"</code>
                attribute which gives me this inset look and a
                <code>data-transition="pop"</code>
                attribute to change the transition to pop. Without this, I'd be
                styled as a normal page.
            </p>
            <p>
                <a href="#one" data-rel="back" data-role="button" data-inline="true"
                    data-icon="back">Back to page "one"</a>
            </p>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-theme="b">
            <h4>Page Footer</h4>
        </div><!-- /footer -->
    </div><!-- /page popup -->
</body>
</html>